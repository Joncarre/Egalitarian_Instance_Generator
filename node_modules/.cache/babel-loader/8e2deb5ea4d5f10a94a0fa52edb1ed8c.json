{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan\\\\Documents\\\\UCM\\\\Doctorado\\\\Investigaciones\\\\Generator App\\\\Generator-DApp\\\\src\\\\components\\\\UserSection\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { generatorAddress, requestAccount } from '../../App.js';\nimport { ethers } from 'ethers';\nimport Generator from '../../artifacts/contracts/Generator.sol/Generator.json';\nimport { FormError } from '../Register/RegisterElements';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserSection = () => {\n  _s();\n\n  var _errors$orcid, _errors$orcid2, _errors$orcid3, _errors$orcid4;\n\n  const [user, setUser] = useState([\" \", \" \", \" \", \" \"]);\n\n  async function async_getResearcher(data) {\n    if (typeof window.ethereum !== 'undefined') {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const contract = new ethers.Contract(generatorAddress, Generator.abi, provider);\n\n      try {\n        const signer = provider.getSigner();\n        const result = await contract.connect(signer).getResearcher(data.orcid);\n        setUser(result);\n        console.log(\"async_getResearcher: \" + user);\n      } catch (err) {\n        console.log(\"Error: \", err);\n      }\n    }\n  }\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(async_getResearcher),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"orcid\", {\n          required: true,\n          minLength: 16,\n          maxLength: 16,\n          pattern: /^[0-9\\b]+$/\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), (errors === null || errors === void 0 ? void 0 : (_errors$orcid = errors.orcid) === null || _errors$orcid === void 0 ? void 0 : _errors$orcid.type) === \"required\" && /*#__PURE__*/_jsxDEV(FormError, {\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 60\n      }, this), (errors === null || errors === void 0 ? void 0 : (_errors$orcid2 = errors.orcid) === null || _errors$orcid2 === void 0 ? void 0 : _errors$orcid2.type) === \"minLength\" && /*#__PURE__*/_jsxDEV(FormError, {\n        children: \"It must be a number of 16 digits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 61\n      }, this), (errors === null || errors === void 0 ? void 0 : (_errors$orcid3 = errors.orcid) === null || _errors$orcid3 === void 0 ? void 0 : _errors$orcid3.type) === \"maxLength\" && /*#__PURE__*/_jsxDEV(FormError, {\n        children: \"It must be a number of 16 digits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 61\n      }, this), (errors === null || errors === void 0 ? void 0 : (_errors$orcid4 = errors.orcid) === null || _errors$orcid4 === void 0 ? void 0 : _errors$orcid4.type) === \"pattern\" && /*#__PURE__*/_jsxDEV(FormError, {\n        children: \"Numerical characters only\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 59\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserSection, \"cxx4qgBke3KAf8OARy1GHCAFbv0=\", false, function () {\n  return [useForm];\n});\n\n_c = UserSection;\nexport default UserSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSection\");","map":{"version":3,"sources":["C:/Users/Jonathan/Documents/UCM/Doctorado/Investigaciones/Generator App/Generator-DApp/src/components/UserSection/index.js"],"names":["React","useState","useEffect","useForm","generatorAddress","requestAccount","ethers","Generator","FormError","UserSection","user","setUser","async_getResearcher","data","window","ethereum","provider","providers","Web3Provider","contract","Contract","abi","signer","getSigner","result","connect","getResearcher","orcid","console","log","err","register","handleSubmit","formState","errors","required","minLength","maxLength","pattern","type"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { generatorAddress, requestAccount } from '../../App.js';\r\nimport { ethers } from 'ethers';\r\nimport Generator from '../../artifacts/contracts/Generator.sol/Generator.json';\r\nimport { \r\n    FormError\r\n } from '../Register/RegisterElements';\r\n\r\nconst UserSection = () => {\r\n    const [user, setUser] = useState([\" \", \" \", \" \", \" \"]);\r\n\r\n    async function async_getResearcher(data) {\r\n        if (typeof window.ethereum !== 'undefined') {\r\n            const provider = new ethers.providers.Web3Provider(window.ethereum)\r\n            const contract = new ethers.Contract(generatorAddress, Generator.abi, provider);\r\n            try {\r\n                const signer = provider.getSigner()\r\n                const result = await contract.connect(signer).getResearcher(data.orcid)\r\n                setUser(result);\r\n                console.log(\"async_getResearcher: \" + user)\r\n            } catch (err) {\r\n                console.log(\"Error: \", err)\r\n            }\r\n        }    \r\n    }\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors }\r\n    } = useForm();\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit(async_getResearcher)}>\r\n                <label>Test</label>\r\n                <input {...register(\"orcid\", { \r\n                    required: true,\r\n                    minLength: 16, \r\n                    maxLength: 16,\r\n                    pattern: /^[0-9\\b]+$/\r\n                })} />\r\n                    {errors?.orcid?.type === \"required\" && <FormError>This field is required</FormError>}\r\n                    {errors?.orcid?.type === \"minLength\" && <FormError>It must be a number of 16 digits</FormError> }\r\n                    {errors?.orcid?.type === \"maxLength\" && <FormError>It must be a number of 16 digits</FormError> }\r\n                    {errors?.orcid?.type === \"pattern\" && <FormError>Numerical characters only</FormError> }\r\n                <input type=\"submit\" />\r\n            </form> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserSection;\r\n"]},"metadata":{},"sourceType":"module"}