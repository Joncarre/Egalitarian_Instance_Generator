{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TasksDSL = void 0;\n\nconst task_definitions_1 = require(\"./task-definitions\");\n/**\n * This class defines the DSL used in Hardhat config files\n * for creating and overriding tasks.\n */\n\n\nclass TasksDSL {\n  constructor() {\n    this.internalTask = this.subtask;\n    this._tasks = {};\n  }\n\n  task(name, descriptionOrAction, action) {\n    return this._addTask(name, descriptionOrAction, action, false);\n  }\n\n  subtask(name, descriptionOrAction, action) {\n    return this._addTask(name, descriptionOrAction, action, true);\n  }\n  /**\n   * Retrieves the task definitions.\n   *\n   * @returns The tasks container.\n   */\n\n\n  getTaskDefinitions() {\n    return this._tasks;\n  }\n\n  _addTask(name, descriptionOrAction, action, isSubtask) {\n    const parentTaskDefinition = this._tasks[name];\n    let taskDefinition;\n\n    if (parentTaskDefinition !== undefined) {\n      taskDefinition = new task_definitions_1.OverriddenTaskDefinition(parentTaskDefinition, isSubtask);\n    } else {\n      taskDefinition = new task_definitions_1.SimpleTaskDefinition(name, isSubtask);\n    }\n\n    if (descriptionOrAction instanceof Function) {\n      action = descriptionOrAction;\n      descriptionOrAction = undefined;\n    }\n\n    if (descriptionOrAction !== undefined) {\n      taskDefinition.setDescription(descriptionOrAction);\n    }\n\n    if (action !== undefined) {\n      taskDefinition.setAction(action);\n    }\n\n    this._tasks[name] = taskDefinition;\n    return taskDefinition;\n  }\n\n}\n\nexports.TasksDSL = TasksDSL;","map":{"version":3,"sources":["../../../src/internal/core/tasks/dsl.ts"],"names":[],"mappings":";;;;;;;AAOA,MAAA,kBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;AAKA;;;AAGG;;;AACH,MAAa,QAAb,CAAqB;AAArB,EAAA,WAAA,GAAA;AACkB,SAAA,YAAA,GAAe,KAAK,OAApB;AAEC,SAAA,MAAA,GAAmB,EAAnB;AA8HlB;;AA5FQ,EAAA,IAAI,CACT,IADS,EAET,mBAFS,EAGT,MAHS,EAGiB;AAE1B,WAAO,KAAK,QAAL,CAAc,IAAd,EAAoB,mBAApB,EAAyC,MAAzC,EAAiD,KAAjD,CAAP;AACD;;AAkCM,EAAA,OAAO,CACZ,IADY,EAEZ,mBAFY,EAGZ,MAHY,EAGc;AAE1B,WAAO,KAAK,QAAL,CAAc,IAAd,EAAoB,mBAApB,EAAyC,MAAzC,EAAiD,IAAjD,CAAP;AACD;AAED;;;;AAIG;;;AACI,EAAA,kBAAkB,GAAA;AACvB,WAAO,KAAK,MAAZ;AACD;;AAEO,EAAA,QAAQ,CACd,IADc,EAEd,mBAFc,EAGd,MAHc,EAId,SAJc,EAIK;AAEnB,UAAM,oBAAoB,GAAG,KAAK,MAAL,CAAY,IAAZ,CAA7B;AAEA,QAAI,cAAJ;;AAEA,QAAI,oBAAoB,KAAK,SAA7B,EAAwC;AACtC,MAAA,cAAc,GAAG,IAAI,kBAAA,CAAA,wBAAJ,CACf,oBADe,EAEf,SAFe,CAAjB;AAID,KALD,MAKO;AACL,MAAA,cAAc,GAAG,IAAI,kBAAA,CAAA,oBAAJ,CAAyB,IAAzB,EAA+B,SAA/B,CAAjB;AACD;;AAED,QAAI,mBAAmB,YAAY,QAAnC,EAA6C;AAC3C,MAAA,MAAM,GAAG,mBAAT;AACA,MAAA,mBAAmB,GAAG,SAAtB;AACD;;AAED,QAAI,mBAAmB,KAAK,SAA5B,EAAuC;AACrC,MAAA,cAAc,CAAC,cAAf,CAA8B,mBAA9B;AACD;;AAED,QAAI,MAAM,KAAK,SAAf,EAA0B;AACxB,MAAA,cAAc,CAAC,SAAf,CAAyB,MAAzB;AACD;;AAED,SAAK,MAAL,CAAY,IAAZ,IAAoB,cAApB;AACA,WAAO,cAAP;AACD;;AAhIkB;;AAArB,OAAA,CAAA,QAAA,GAAA,QAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TasksDSL = void 0;\nconst task_definitions_1 = require(\"./task-definitions\");\n/**\n * This class defines the DSL used in Hardhat config files\n * for creating and overriding tasks.\n */\nclass TasksDSL {\n    constructor() {\n        this.internalTask = this.subtask;\n        this._tasks = {};\n    }\n    task(name, descriptionOrAction, action) {\n        return this._addTask(name, descriptionOrAction, action, false);\n    }\n    subtask(name, descriptionOrAction, action) {\n        return this._addTask(name, descriptionOrAction, action, true);\n    }\n    /**\n     * Retrieves the task definitions.\n     *\n     * @returns The tasks container.\n     */\n    getTaskDefinitions() {\n        return this._tasks;\n    }\n    _addTask(name, descriptionOrAction, action, isSubtask) {\n        const parentTaskDefinition = this._tasks[name];\n        let taskDefinition;\n        if (parentTaskDefinition !== undefined) {\n            taskDefinition = new task_definitions_1.OverriddenTaskDefinition(parentTaskDefinition, isSubtask);\n        }\n        else {\n            taskDefinition = new task_definitions_1.SimpleTaskDefinition(name, isSubtask);\n        }\n        if (descriptionOrAction instanceof Function) {\n            action = descriptionOrAction;\n            descriptionOrAction = undefined;\n        }\n        if (descriptionOrAction !== undefined) {\n            taskDefinition.setDescription(descriptionOrAction);\n        }\n        if (action !== undefined) {\n            taskDefinition.setAction(action);\n        }\n        this._tasks[name] = taskDefinition;\n        return taskDefinition;\n    }\n}\nexports.TasksDSL = TasksDSL;\n//# sourceMappingURL=dsl.js.map"]},"metadata":{},"sourceType":"script"}