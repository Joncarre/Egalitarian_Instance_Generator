{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { SentryError } from '@sentry/utils';\nimport * as https from 'https';\nimport { BaseTransport } from './base';\n/** Node https module transport */\n\nvar HTTPSTransport =\n/** @class */\nfunction (_super) {\n  __extends(HTTPSTransport, _super);\n  /** Create a new instance and set this.agent */\n\n\n  function HTTPSTransport(options) {\n    var _this = _super.call(this, options) || this;\n\n    _this.options = options;\n    var proxy = options.httpsProxy || options.httpProxy || process.env.https_proxy || process.env.http_proxy;\n    _this.module = https;\n    _this.client = proxy ? new (require('https-proxy-agent'))(proxy) : new https.Agent({\n      keepAlive: false,\n      maxSockets: 30,\n      timeout: 2000\n    });\n    return _this;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  HTTPSTransport.prototype.sendEvent = function (event) {\n    if (!this.module) {\n      throw new SentryError('No module available in HTTPSTransport');\n    }\n\n    return this._sendWithModule(this.module, event);\n  };\n\n  return HTTPSTransport;\n}(BaseTransport);\n\nexport { HTTPSTransport };","map":{"version":3,"sources":["../../src/transports/https.ts"],"names":[],"mappings":";AACA,SAAS,WAAT,QAA4B,eAA5B;AACA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AAEA,SAAS,aAAT,QAA8B,QAA9B;AAEA;;AACA,IAAA,cAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAoC,EAAA,SAAA,CAAA,cAAA,EAAA,MAAA,CAAA;AAClC;;;AACA,WAAA,cAAA,CAA0B,OAA1B,EAAmD;AAAnD,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,OAAN,KAAc,IADhB;;AAA0B,IAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AAExB,QAAM,KAAK,GAAG,OAAO,CAAC,UAAR,IAAsB,OAAO,CAAC,SAA9B,IAA2C,OAAO,CAAC,GAAR,CAAY,WAAvD,IAAsE,OAAO,CAAC,GAAR,CAAY,UAAhG;AACA,IAAA,KAAI,CAAC,MAAL,GAAc,KAAd;AACA,IAAA,KAAI,CAAC,MAAL,GAAc,KAAK,GACd,KAAK,OAAO,CAAC,mBAAD,CAAZ,EAAmC,KAAnC,CADc,GAEf,IAAI,KAAK,CAAC,KAAV,CAAgB;AAAE,MAAA,SAAS,EAAE,KAAb;AAAoB,MAAA,UAAU,EAAE,EAAhC;AAAoC,MAAA,OAAO,EAAE;AAA7C,KAAhB,CAFJ;;AAGD;AAED;;AAEG;;;AACI,EAAA,cAAA,CAAA,SAAA,CAAA,SAAA,GAAP,UAAiB,KAAjB,EAA6B;AAC3B,QAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,YAAM,IAAI,WAAJ,CAAgB,uCAAhB,CAAN;AACD;;AACD,WAAO,KAAK,eAAL,CAAqB,KAAK,MAA1B,EAAkC,KAAlC,CAAP;AACD,GALM;;AAMT,SAAA,cAAA;AAAC,CApBD,CAAoC,aAApC,CAAA","sourcesContent":["import { Event, Response, TransportOptions } from '@sentry/types';\nimport { SentryError } from '@sentry/utils';\nimport * as https from 'https';\n\nimport { BaseTransport } from './base';\n\n/** Node https module transport */\nexport class HTTPSTransport extends BaseTransport {\n  /** Create a new instance and set this.agent */\n  public constructor(public options: TransportOptions) {\n    super(options);\n    const proxy = options.httpsProxy || options.httpProxy || process.env.https_proxy || process.env.http_proxy;\n    this.module = https;\n    this.client = proxy\n      ? (new (require('https-proxy-agent'))(proxy) as https.Agent)\n      : new https.Agent({ keepAlive: false, maxSockets: 30, timeout: 2000 });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event): Promise<Response> {\n    if (!this.module) {\n      throw new SentryError('No module available in HTTPSTransport');\n    }\n    return this._sendWithModule(this.module, event);\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}