{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan\\\\Documents\\\\UCM\\\\Doctorado\\\\Investigaciones\\\\Generator App\\\\Generator-DApp\\\\src\\\\App.js\";\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { ethers } from 'ethers';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Generator from './artifacts/contracts/Generator.sol/Generator.json';\nimport Navbar from \"./components/Navbar/index\";\nimport Sidebar from \"./components/SideBar\";\nimport Home from \"./pages\";\nimport RegisterPage from \"./pages/register\";\nimport UserSection from './components/UserSection'; // Update with the contract address logged out to the CLI when it was deployed \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generatorAddress = \"0x6e4B3A201532D0FfD2d3C821371b009aA113bFcE\"; // request access to the user's MetaMask account\n\nasync function requestAccount() {\n  await window.ethereum.request({\n    method: 'eth_requestAccounts'\n  });\n}\n\nexport async function async_setResearcher(data) {\n  if (typeof window.ethereum !== 'undefined') {\n    await requestAccount();\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    const contract = new ethers.Contract(generatorAddress, Generator.abi, signer);\n    console.log(\"async_setResearcher: \" + data.firstName, data.age);\n    const transaction = await contract.setResearcher(data.firstName, data.age);\n    await transaction.wait();\n  }\n}\nexport async function async_getResearcher(data) {\n  if (typeof window.ethereum !== 'undefined') {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const contract = new ethers.Contract(generatorAddress, Generator.abi, provider);\n\n    try {\n      const signer = provider.getSigner();\n      const result = await contract.connect(signer).getResearcher(data.orcid);\n      console.log(\"async_getResearcher: \" + result);\n    } catch (err) {\n      console.log(\"Error: \", err);\n    }\n  }\n}\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        component: Home,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        component: RegisterPage,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/user\",\n        component: UserSection,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Jonathan/Documents/UCM/Doctorado/Investigaciones/Generator App/Generator-DApp/src/App.js"],"names":["useState","useEffect","useForm","ethers","BrowserRouter","Router","Route","Switch","Generator","Navbar","Sidebar","Home","RegisterPage","UserSection","generatorAddress","requestAccount","window","ethereum","request","method","async_setResearcher","data","provider","providers","Web3Provider","signer","getSigner","contract","Contract","abi","console","log","firstName","age","transaction","setResearcher","wait","async_getResearcher","result","connect","getResearcher","orcid","err","App"],"mappings":";AAAA,OAAO,WAAP;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,QAAuD,kBAAvD;AAEA,OAAOC,SAAP,MAAsB,oDAAtB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,YAAP,MAAyB,kBAAzB;AACA,OAAOC,WAAP,MAAwB,0BAAxB,C,CAEA;;;AACA,MAAMC,gBAAgB,GAAG,4CAAzB,C,CAEE;;AACA,eAAeC,cAAf,GAAgC;AAC9B,QAAMC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAxB,CAAN;AACD;;AAED,OAAO,eAAeC,mBAAf,CAAmCC,IAAnC,EAAyC;AAC5C,MAAI,OAAOL,MAAM,CAACC,QAAd,KAA2B,WAA/B,EAA4C;AAC1C,UAAMF,cAAc,EAApB;AACA,UAAMO,QAAQ,GAAG,IAAInB,MAAM,CAACoB,SAAP,CAAiBC,YAArB,CAAkCR,MAAM,CAACC,QAAzC,CAAjB;AACA,UAAMQ,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACA,UAAMC,QAAQ,GAAG,IAAIxB,MAAM,CAACyB,QAAX,CAAoBd,gBAApB,EAAsCN,SAAS,CAACqB,GAAhD,EAAqDJ,MAArD,CAAjB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAA0BV,IAAI,CAACW,SAA3C,EAAsDX,IAAI,CAACY,GAA3D;AACA,UAAMC,WAAW,GAAG,MAAMP,QAAQ,CAACQ,aAAT,CACxBd,IAAI,CAACW,SADmB,EAExBX,IAAI,CAACY,GAFmB,CAA1B;AAGA,UAAMC,WAAW,CAACE,IAAZ,EAAN;AACD;AACJ;AAED,OAAO,eAAeC,mBAAf,CAAmChB,IAAnC,EAAyC;AAC5C,MAAI,OAAOL,MAAM,CAACC,QAAd,KAA2B,WAA/B,EAA4C;AAC1C,UAAMK,QAAQ,GAAG,IAAInB,MAAM,CAACoB,SAAP,CAAiBC,YAArB,CAAkCR,MAAM,CAACC,QAAzC,CAAjB;AACA,UAAMU,QAAQ,GAAG,IAAIxB,MAAM,CAACyB,QAAX,CAAoBd,gBAApB,EAAsCN,SAAS,CAACqB,GAAhD,EAAqDP,QAArD,CAAjB;;AACA,QAAI;AACF,YAAMG,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACA,YAAMY,MAAM,GAAG,MAAMX,QAAQ,CAACY,OAAT,CAAiBd,MAAjB,EAAyBe,aAAzB,CAAuCnB,IAAI,CAACoB,KAA5C,CAArB;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAA0BO,MAAtC;AACD,KAJD,CAIE,OAAOI,GAAP,EAAY;AACZZ,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBW,GAAvB;AACD;AACF;AACF;;AAEL,SAASC,GAAT,GAAe;AACb,sBACI,QAAC,MAAD;AAAA,2BACE,QAAC,MAAD;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,GAAZ;AAAgB,QAAA,SAAS,EAAEhC,IAA3B;AAAiC,QAAA,KAAK;AAAtC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,WAAZ;AAAwB,QAAA,SAAS,EAAEC,YAAnC;AAAiD,QAAA,KAAK;AAAtD;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,SAAS,EAAEC,WAA/B;AAA4C,QAAA,KAAK;AAAjD;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADJ;AASD;;KAVQ8B,G;AAYT,eAAeA,GAAf","sourcesContent":["import './App.css';\nimport { useState, useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { ethers } from 'ethers';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport Generator from './artifacts/contracts/Generator.sol/Generator.json'\nimport Navbar from \"./components/Navbar/index\";\nimport Sidebar from \"./components/SideBar\";\nimport Home from \"./pages\";\nimport RegisterPage from \"./pages/register\";\nimport UserSection from './components/UserSection';\n\n// Update with the contract address logged out to the CLI when it was deployed \nconst generatorAddress = \"0x6e4B3A201532D0FfD2d3C821371b009aA113bFcE\"\n\n  // request access to the user's MetaMask account\n  async function requestAccount() {\n    await window.ethereum.request({ method: 'eth_requestAccounts' });\n  }\n\n  export async function async_setResearcher(data) {\n      if (typeof window.ethereum !== 'undefined') {\n        await requestAccount()\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner()\n        const contract = new ethers.Contract(generatorAddress, Generator.abi, signer);\n        console.log(\"async_setResearcher: \" + data.firstName, data.age);\n        const transaction = await contract.setResearcher(\n          data.firstName, \n          data.age)\n        await transaction.wait()\n      }\n  }\n\n  export async function async_getResearcher(data) {\n      if (typeof window.ethereum !== 'undefined') {\n        const provider = new ethers.providers.Web3Provider(window.ethereum)\n        const contract = new ethers.Contract(generatorAddress, Generator.abi, provider);\n        try {\n          const signer = provider.getSigner()\n          const result = await contract.connect(signer).getResearcher(data.orcid)\n          console.log(\"async_getResearcher: \" + result)\n        } catch (err) {\n          console.log(\"Error: \", err)\n        }\n      }    \n    }\n\nfunction App() {\n  return (\n      <Router>\n        <Switch >\n          <Route path='/' component={Home} exact />\n          <Route path='/register' component={RegisterPage} exact />\n          <Route path='/user' component={UserSection} exact />\n        </Switch>\n      </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}